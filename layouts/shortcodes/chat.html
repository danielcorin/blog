{{ $model := .Get "model" }}
{{ $link := .Get "link" }}
{{ $json := .Inner | unmarshal }}

<div class="chat-container">
    <div class="chat-header">
        <span class="chat-model">{{ $model }}</span>
    </div>
    <div class="chat-messages">
        {{ range $json }}
        <div class="chat-message {{ .role }}">
            <div class="chat-role">{{ .role }}</div>
            <div class="chat-content">
                {{ range .content }}
                {{ if eq .type "text" }}
                <p>{{ .text | markdownify }}</p>
                {{ end }}
                {{ end }}
            </div>
        </div>
        {{ end }}
    </div>
</div>
